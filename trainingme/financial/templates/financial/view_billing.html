{% extends 'base.html' %}
{% load i18n %}
{% block content %}
    <a href="{% url edit_billing %}">{% trans 'Update Billing Details' %}</a>
    <h2>{% trans 'You are viewing your financial details' %}</h2>
    <ul>
        <li>{% trans 'Aviable Balance' %}: {{ billing.balance|floatformat:2 }} &euro;</li>
        <li>{% trans 'Paypal Account' %}: {{ billing.paypal_account|default:'not specified' }}</li>
        <li>{% trans 'Name for Invoice' %}: {{ billing.name|default:'not specified' }}</li>
        <li>{% trans 'Surname for Invoice' %}: {{ billing.surname|default:'not specified' }}</li>
        <li>{% trans 'Id Number for Invoice' %}: {{ billing.id_number|default:'not specified' }}</li>
    </ul>
    <h2>{% trans 'Withdraws' %}</h2>
    <table>
        <tr>
            <td>{% trans 'Date' %}</td>
            <td>{% trans 'Sent to Paypal Email' %}</td>
            <td>{% trans 'Amount' %}</td>
        </tr>
        {% for withdraw in withdraws %}
            <tr>
                <td>{{ withdraw.datetime|date:"SHORT_DATE_FORMAT" }}</td>
                <td>{{ withdraw.sent_to }}</td>
                <td>{{ withdraw.amount|floatformat:2 }}</td>
            </tr>
        {% endfor %}
    </table>
    <h2>{% trans 'Your Purchases' %}</h2>
    <table>
        <tr>
            <td>{% trans 'Date' %}</td>
            <td>{% trans 'Course' %}</td>
            <td>{% trans 'Amount' %}</td>
        </tr>
        {% for order in purchases %}
            <tr>
                <td>{{ order.created_at|date:"SHORT_DATE_FORMAT" }}</td>
                <td>{{ order.course.title }}</td>
                <td>{{ order.amount|floatformat:2 }}</td>
            </tr>
        {% endfor %}
    </table>
    <h2>{% trans 'Your Sells' %}</h2>
    <table>
        <tr>
            <td>{% trans 'Date' %}</td>
            <td>{% trans 'Course' %}</td>
            <td>{% trans 'Buyer' %}</td>
            <td>{% trans 'Date Cleared' %}</td>
            <td>{% trans 'Net Amount' %}</td>
        </tr>
        {% for order in sells %}
            <tr>
                <td>{{ order.created_at|date:"SHORT_DATE_FORMAT" }}</td>
                <td>{{ order.course.title }}</td>
                <td>{{ order.user.username }}</td>
                <td>{{ order.datetime_cleared|date:"SHORT_DATE_FORMAT" }}</td>
                <td>{{ order.net_amount|floatformat:2 }}</td>
            </tr>
        {% endfor %}
    </table>
{% endblock %}